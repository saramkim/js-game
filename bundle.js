(()=>{var t={648:(t,e,i)=>{if(i.g.canvas=document.getElementById("canvas"),i.g.ctx=canvas.getContext("2d"),window.innerWidth<600?canvas.width=window.innerWidth:canvas.width=600,window.innerHeight<800)for(canvas.height=750;canvas.height>window.innerHeight;)canvas.height-=50;else canvas.height=800;canvas.style.boxShadow="0 0 0 1px black inset",canvas.style.position="fixed",canvas.style.left=`calc(50% - ${canvas.width/2}px)`,canvas.style.top=`calc(50% - ${canvas.height/2}px)`,i.g.mode="point",i.g.curStatus="intro",i.g.difficulty=3,i.g.canUseItem=!0,i.g.blockArray=[],i.g.bonusArray=[],i.g.timer=0,i.g.leftTimer=0,i.g.rightTimer=0,i.g.pointScore=0,i.g.timeScore=0,i.g.goLeft=!1,i.g.goRight=!1}},e={};function i(c){var n=e[c];if(void 0!==n)return n.exports;var a=e[c]={exports:{}};return t[c](a,a.exports,i),a.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";i(648);const t={width:50,height:50,x:(canvas.width-50)/2,y:canvas.height-50,draw:function(){ctx.fillStyle="green",ctx.fillRect(this.x,this.y,this.width,this.height)}},e=function(){function t(t){this.width=50,this.height=50,this.x=Math.random()*(canvas.width/difficulty-this.width)+t*(canvas.width/difficulty),this.y=0}return t.prototype.draw=function(){ctx.fillStyle="red",ctx.fillRect(this.x,this.y,this.width,this.height)},t}(),c=function(){function t(){this.width=50,this.height=50,this.x=Math.random()*(canvas.width-this.width),this.y=0}return t.prototype.draw=function(){ctx.fillStyle="blue",ctx.fillRect(this.x,this.y,this.width,this.height)},t}();var n,a=function(){blockArray.splice(0),bonusArray.splice(0),timer=0,timeScore=0,pointScore=0,ctx.clearRect(0,0,canvas.width,canvas.height),requestAnimationFrame(f)},r=function(t,e){var i=Math.abs(t.x-e.x)<t.width,c=t.y-e.y===t.height;return i&&c},o=function(t,e){var i=t.x-e.x<=t.width&&t.x-e.x>0,c=Math.abs(t.y-e.y)<t.height;return i&&c},s=function(t,e){var i=e.x-t.x<=t.width&&e.x-t.x>0,c=Math.abs(t.y-e.y)<t.height;return i&&c},l=function(e){t.x>=0&&goLeft&&(e.x-=10)},h=function(e){t.x+t.width<=canvas.width&&goRight&&(e.x+=10)},f=function(){n=requestAnimationFrame(f),ctx.clearRect(0,0,canvas.width,canvas.height),timer++,"time"===mode&&(timer%40==0&&timeScore++,timer%900==0&&difficulty<6&&difficulty++,ctx.fillText(String(timeScore),50,100)),"point"===mode&&ctx.fillText(String(pointScore),50,100);for(var i=0;i<difficulty;i++)if((timer+Math.round(90/difficulty)*i)%90==0){var a=new e(i);blockArray.push(a)}if(blockArray.forEach((function(e,i,c){var a=function(t){return c.filter((function(t){return t!==e})).findIndex((function(i){return t(i,e)}))},f=a(r),d=a(o),x=a(s),u=-1!==f||r(t,e),g=-1!==d||o(t,e),v=-1!==x||s(t,e);e.y<canvas.height?!u&&(e.y+=1):(c.splice(i,1),pointScore++),u?(l(e),h(e)):g?l(e):v&&h(e),0===e.y&&(cancelAnimationFrame(n),curStatus="end",ctx.clearRect(0,200,canvas.width,400),ctx.fillStyle="green",ctx.font="bold 48px san-serif","point"===mode&&ctx.fillText(String(pointScore),50,300),"time"===mode&&ctx.fillText(String(timeScore),50,300),ctx.fillText("Game Over",50,400),ctx.font="bold 30px san-serif",ctx.fillStyle="red",600===canvas.width?ctx.fillText("Enter : Restart  /  ESC : Go to Main",50,500):(ctx.fillText("Go to Main!",150,300),ctx.fillText("Press to Restart!",50,500))),e.draw()})),timer%900==0){var d=new c;bonusArray.push(d)}bonusArray.forEach((function(e,i,c){var n=r(t,e)||o(t,e)||s(t,e);"point"===mode&&n&&(pointScore+=10),"time"===mode&&n&&(timeScore+=10),e.y<canvas.height&&!n?e.y+=5:c.splice(i,1),e.draw()})),l(t),h(t),goLeft&&leftTimer++,goRight&&rightTimer++,leftTimer>3&&(goLeft=!1,leftTimer=0),rightTimer>3&&(goRight=!1,rightTimer=0),t.draw()};const d=function(){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.fillStyle="green",ctx.font="bold 48px san-serif",ctx.fillText("Block a Block",50,400),ctx.font="bold 30px san-serif",ctx.fillText("Mode: ".concat(mode.toUpperCase()),50,250),"point"===mode&&ctx.fillText("difficulty: ".concat(String(difficulty)),50,300),ctx.fillStyle="red",600===canvas.width?ctx.fillText("Press 'Enter' to start!",50,500):ctx.fillText("Long press to start!",50,500),ctx.fillStyle="green"};var x,u=function(){"main"===curStatus?(a(),"time"===mode&&(difficulty=1),curStatus="start"):"end"===curStatus&&(blockArray.splice(0),bonusArray.splice(0),timer=0,pointScore=0,timeScore=0,canUseItem=!0,"time"===mode&&(difficulty=1),a(),curStatus="start")},g=function(){"main"===curStatus&&"point"===mode&&difficulty>1&&(difficulty--,ctx.clearRect(0,250,500,50),ctx.fillText("difficulty: ".concat(String(difficulty)),50,300))},v=function(){"main"===curStatus&&"point"===mode&&difficulty<6&&(difficulty++,ctx.clearRect(0,250,500,50),ctx.fillText("difficulty: ".concat(String(difficulty)),50,300))},m=function(){"main"===curStatus?(ctx.clearRect(0,200,500,130),"point"===mode?mode="time":"time"===mode&&(mode="point",ctx.fillText("difficulty: ".concat(String(difficulty)),50,300)),ctx.fillText("Mode: ".concat(mode.toUpperCase()),50,250)):"start"===curStatus&&canUseItem&&(blockArray.splice(0),canUseItem=!1)},y=function(){"end"===curStatus&&(curStatus="main",d())};document.addEventListener("keydown",(function(t){switch(t.code){case"Enter":u();break;case"ArrowLeft":case"KeyA":g(),"start"===curStatus&&(goLeft=!0);break;case"ArrowRight":case"KeyD":v(),"start"===curStatus&&(goRight=!0);break;case"Space":m();break;case"Escape":y()}})),canvas.addEventListener("touchstart",(function(t){var e=t.changedTouches[0].clientX;t.changedTouches[0].clientY<canvas.height/2?x=setTimeout((function(){y()}),500):(x=setTimeout((function(){u()}),500),e<canvas.width/2?"start"===curStatus&&(goLeft=!0):e>canvas.width/2&&"start"===curStatus&&(goRight=!0))})),canvas.addEventListener("touchend",(function(t){var e=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY;clearTimeout(x),i<canvas.height/2?m():e<canvas.width/2?g():e>canvas.width/2&&v()})),canvas.addEventListener("touchmove",(function(){clearTimeout(x)})),600===canvas.width?(ctx.clearRect(0,0,canvas.width,canvas.height),ctx.fillStyle="green",ctx.font="bold 48px san-serif",ctx.fillText("Introduction",50,100),ctx.font="bold 30px san-serif",ctx.fillText("Don't let the blocks pile up!",50,200),ctx.fillText("← / a : Move to the Left",50,300),ctx.fillText("Decrease the Difficulty",160,350),ctx.fillText("→ / d : Move to the Right",50,430),ctx.fillText("Increase the Difficulty",160,480),ctx.fillText("Space : Use Skill (1time)",50,560),ctx.fillText("Change Mode",160,610),ctx.fillStyle="red",ctx.fillText("Press any key to continue!",50,720)):(ctx.clearRect(0,0,canvas.width,canvas.height),ctx.fillStyle="green",ctx.font="bold 48px san-serif",ctx.strokeStyle="black",ctx.lineWidth=1,ctx.beginPath(),ctx.moveTo(0,canvas.height/2),ctx.lineTo(canvas.width,canvas.height/2),ctx.stroke(),ctx.beginPath(),ctx.moveTo(canvas.width/2,canvas.height/2),ctx.lineTo(canvas.width/2,canvas.height),ctx.stroke(),ctx.font="bold 30px san-serif",ctx.fillText("Use Skill (1time)",canvas.width/5,200),ctx.fillText("Change Mode",canvas.width/5,250),ctx.font="bold 50px san-serif",ctx.fillText("←",canvas.width/5,620),ctx.fillText("→",canvas.width/3*2,620));var w=function(){curStatus="main",d()};addEventListener("keydown",w,{once:!0}),addEventListener("touchend",w,{once:!0})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsR0FDekNOLElBQUltSCxTQUNKbkgsSUFBSWdILFlBQ0poSCxJQUFJaUgsT0FBT3BILE9BQU9PLE1BQVEsRUFBR1AsT0FBT1MsT0FBUyxHQUM3Q04sSUFBSWtILE9BQU9ySCxPQUFPTyxNQUFRLEVBQUdQLE9BQU9TLFFBQ3BDTixJQUFJbUgsU0FDSm5ILElBQUl3RixLQUFPLHNCQUNYeEYsSUFBSWtFLFNBQVMsb0JBQXFCckUsT0FBT08sTUFBUSxFQUFHLEtBQ3BESixJQUFJa0UsU0FBUyxjQUFlckUsT0FBT08sTUFBUSxFQUFHLEtBQzlDSixJQUFJd0YsS0FBTyxzQkFDWHhGLElBQUlrRSxTQUFTLElBQUtyRSxPQUFPTyxNQUFRLEVBQUcsS0FDcENKLElBQUlrRSxTQUFTLElBQU1yRSxPQUFPTyxNQUFRLEVBQUssRUFBRyxNQzlCOUMsSUFBTWdILEVBQVcsV0FDZnZHLFVBQVksT0FDWnFGLEdBQ0QsRUFFREMsaUJBQWlCLFVBQVdpQixFQUFVLENBQUVDLE1BQU0sSUFDOUNsQixpQkFBaUIsV0FBWWlCLEVBQVUsQ0FBRUMsTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FtZS8uL3NyYy9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9nYW1lL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vZ2FtZS8uL3NyYy9ibG9ja3MvUGxheWVyLnRzIiwid2VicGFjazovL2dhbWUvLi9zcmMvYmxvY2tzL0Jsb2NrLnRzIiwid2VicGFjazovL2dhbWUvLi9zcmMvYmxvY2tzL0JvbnVzLnRzIiwid2VicGFjazovL2dhbWUvLi9zcmMvYWxnb3JpdGhtcy9BbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vZ2FtZS8uL3NyYy9wYWdlcy9FbmQudHMiLCJ3ZWJwYWNrOi8vZ2FtZS8uL3NyYy9wYWdlcy9NYWluLnRzIiwid2VicGFjazovL2dhbWUvLi9zcmMvYWxnb3JpdGhtcy9Db250cm9sLnRzIiwid2VicGFjazovL2dhbWUvLi9zcmMvcGFnZXMvSW50cm8udHMiLCJ3ZWJwYWNrOi8vZ2FtZS8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJnbG9iYWwuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xyXG5nbG9iYWwuY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG5pZiAod2luZG93LmlubmVyV2lkdGggPCA2MDApIHtcclxuICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxufSBlbHNlIHtcclxuICBjYW52YXMud2lkdGggPSA2MDA7XHJcbn1cclxuXHJcbmlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCA4MDApIHtcclxuICBjYW52YXMuaGVpZ2h0ID0gNzUwO1xyXG4gIHdoaWxlIChjYW52YXMuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICBjYW52YXMuaGVpZ2h0IC09IDUwO1xyXG4gIH1cclxufSBlbHNlIHtcclxuICBjYW52YXMuaGVpZ2h0ID0gODAwO1xyXG59XHJcblxyXG5jYW52YXMuc3R5bGUuYm94U2hhZG93ID0gJzAgMCAwIDFweCBibGFjayBpbnNldCc7XHJcbmNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XHJcbmNhbnZhcy5zdHlsZS5sZWZ0ID0gYGNhbGMoNTAlIC0gJHtjYW52YXMud2lkdGggLyAyfXB4KWA7XHJcbmNhbnZhcy5zdHlsZS50b3AgPSBgY2FsYyg1MCUgLSAke2NhbnZhcy5oZWlnaHQgLyAyfXB4KWA7XHJcblxyXG5nbG9iYWwubW9kZSA9ICdwb2ludCc7XHJcbmdsb2JhbC5jdXJTdGF0dXMgPSAnaW50cm8nO1xyXG5nbG9iYWwuZGlmZmljdWx0eSA9IDM7XHJcbmdsb2JhbC5jYW5Vc2VJdGVtID0gdHJ1ZTtcclxuZ2xvYmFsLmJsb2NrQXJyYXkgPSBbXTtcclxuZ2xvYmFsLmJvbnVzQXJyYXkgPSBbXTtcclxuZ2xvYmFsLnRpbWVyID0gMDtcclxuZ2xvYmFsLmxlZnRUaW1lciA9IDA7XHJcbmdsb2JhbC5yaWdodFRpbWVyID0gMDtcclxuZ2xvYmFsLnBvaW50U2NvcmUgPSAwO1xyXG5nbG9iYWwudGltZVNjb3JlID0gMDtcclxuZ2xvYmFsLmdvTGVmdCA9IGZhbHNlO1xyXG5nbG9iYWwuZ29SaWdodCA9IGZhbHNlO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCIvLyBjb25zdCBpbWcxID0gbmV3IEltYWdlKCk7XHJcbi8vIGltZzEuc3JjID0gXCJpbWFnZS5qcGdcIjtcclxuXHJcbmNvbnN0IHBsYXllciA9IHtcclxuICB3aWR0aDogNTAsXHJcbiAgaGVpZ2h0OiA1MCxcclxuICB4OiAoY2FudmFzLndpZHRoIC0gNTApIC8gMixcclxuICB5OiBjYW52YXMuaGVpZ2h0IC0gNTAsXHJcbiAgZHJhdygpIHtcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xyXG4gICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAvLyBjdHguZHJhd0ltYWdlKGltZzEsIHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBsYXllcjtcclxuIiwiY2xhc3MgQmxvY2sge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IobG9jYXRpb246IG51bWJlcikge1xyXG4gICAgdGhpcy53aWR0aCA9IDUwO1xyXG4gICAgdGhpcy5oZWlnaHQgPSA1MDtcclxuICAgIHRoaXMueCA9XHJcbiAgICAgIE1hdGgucmFuZG9tKCkgKiAoY2FudmFzLndpZHRoIC8gZGlmZmljdWx0eSAtIHRoaXMud2lkdGgpICtcclxuICAgICAgbG9jYXRpb24gKiAoY2FudmFzLndpZHRoIC8gZGlmZmljdWx0eSk7XHJcbiAgICB0aGlzLnkgPSAwO1xyXG4gIH1cclxuICBkcmF3KCkge1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xyXG4gICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCbG9jaztcclxuIiwiY2xhc3MgQm9udXMge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLndpZHRoID0gNTA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDUwO1xyXG4gICAgdGhpcy54ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXMud2lkdGggLSB0aGlzLndpZHRoKTtcclxuICAgIHRoaXMueSA9IDA7XHJcbiAgfVxyXG4gIGRyYXcoKSB7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ2JsdWUnO1xyXG4gICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCb251cztcclxuIiwiaW1wb3J0IHBsYXllciBmcm9tICcuLi9ibG9ja3MvUGxheWVyJztcclxuaW1wb3J0IEJsb2NrIGZyb20gJy4uL2Jsb2Nrcy9CbG9jayc7XHJcbmltcG9ydCBCb251cyBmcm9tICcuLi9ibG9ja3MvQm9udXMnO1xyXG5pbXBvcnQgRW5kIGZyb20gJy4uL3BhZ2VzL0VuZCc7XHJcblxyXG50eXBlIEZuID0gKHN0b3BlZEJsb2NrOiBCbG9jaywgYmxvY2s6IEJsb2NrKSA9PiBib29sZWFuO1xyXG5cclxuY29uc3QgQkxPQ0tfVElNRSA9IDkwO1xyXG5jb25zdCBUSU1FUl9USU1FID0gMztcclxuY29uc3QgTU9WRV9TUEVFRCA9IDEwO1xyXG5cclxubGV0IGFuaW1hdGlvbjogbnVtYmVyO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXJ0QW5pbWF0aW9uID0gKCkgPT4ge1xyXG4gIGJsb2NrQXJyYXkuc3BsaWNlKDApO1xyXG4gIGJvbnVzQXJyYXkuc3BsaWNlKDApO1xyXG4gIHRpbWVyID0gMDtcclxuICB0aW1lU2NvcmUgPSAwO1xyXG4gIHBvaW50U2NvcmUgPSAwO1xyXG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoRnJhbWUpO1xyXG59O1xyXG5jb25zdCBzdG9wQW5pbWF0aW9uID0gKCkgPT4ge1xyXG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbik7XHJcbn07XHJcblxyXG5jb25zdCBDb2xsaXNpb24gPSAocHJlOiBCbG9jaywgY3VyOiBCbG9jaykgPT4ge1xyXG4gIGNvbnN0IHhDb2xsaXNpb24gPSBNYXRoLmFicyhwcmUueCAtIGN1ci54KSA8IHByZS53aWR0aDtcclxuICBjb25zdCB5Q29sbGlzaW9uID0gcHJlLnkgLSBjdXIueSA9PT0gcHJlLmhlaWdodDtcclxuICByZXR1cm4geENvbGxpc2lvbiAmJiB5Q29sbGlzaW9uO1xyXG59O1xyXG5cclxuY29uc3QgTGVmdENvbGxpc2lvbiA9IChwcmU6IEJsb2NrLCBjdXI6IEJsb2NrKSA9PiB7XHJcbiAgY29uc3QgeENvbGxpc2lvbiA9IHByZS54IC0gY3VyLnggPD0gcHJlLndpZHRoICYmIHByZS54IC0gY3VyLnggPiAwO1xyXG4gIGNvbnN0IHlDb2xsaXNpb24gPSBNYXRoLmFicyhwcmUueSAtIGN1ci55KSA8IHByZS5oZWlnaHQ7XHJcbiAgcmV0dXJuIHhDb2xsaXNpb24gJiYgeUNvbGxpc2lvbjtcclxufTtcclxuXHJcbmNvbnN0IFJpZ2h0Q29sbGlzaW9uID0gKHByZTogQmxvY2ssIGN1cjogQmxvY2spID0+IHtcclxuICBjb25zdCB4Q29sbGlzaW9uID0gY3VyLnggLSBwcmUueCA8PSBwcmUud2lkdGggJiYgY3VyLnggLSBwcmUueCA+IDA7XHJcbiAgY29uc3QgeUNvbGxpc2lvbiA9IE1hdGguYWJzKHByZS55IC0gY3VyLnkpIDwgcHJlLmhlaWdodDtcclxuICByZXR1cm4geENvbGxpc2lvbiAmJiB5Q29sbGlzaW9uO1xyXG59O1xyXG5cclxuY29uc3QgR29MZWZ0ID0gKHRoaW5nOiBCbG9jaykgPT4ge1xyXG4gIGlmIChwbGF5ZXIueCA+PSAwKSB7XHJcbiAgICBnb0xlZnQgJiYgKHRoaW5nLnggLT0gTU9WRV9TUEVFRCk7XHJcbiAgfVxyXG59O1xyXG5jb25zdCBHb1JpZ2h0ID0gKHRoaW5nOiBCbG9jaykgPT4ge1xyXG4gIGlmIChwbGF5ZXIueCArIHBsYXllci53aWR0aCA8PSBjYW52YXMud2lkdGgpIHtcclxuICAgIGdvUmlnaHQgJiYgKHRoaW5nLnggKz0gTU9WRV9TUEVFRCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgRnJhbWUgPSAoKSA9PiB7XHJcbiAgYW5pbWF0aW9uID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKEZyYW1lKTtcclxuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgdGltZXIrKztcclxuXHJcbiAgaWYgKG1vZGUgPT09ICd0aW1lJykge1xyXG4gICAgdGltZXIgJSA0MCA9PT0gMCAmJiB0aW1lU2NvcmUrKztcclxuICAgIHRpbWVyICUgOTAwID09PSAwICYmIGRpZmZpY3VsdHkgPCA2ICYmIGRpZmZpY3VsdHkrKztcclxuICAgIGN0eC5maWxsVGV4dChTdHJpbmcodGltZVNjb3JlKSwgNTAsIDEwMCk7XHJcbiAgfVxyXG4gIGlmIChtb2RlID09PSAncG9pbnQnKSB7XHJcbiAgICBjdHguZmlsbFRleHQoU3RyaW5nKHBvaW50U2NvcmUpLCA1MCwgMTAwKTtcclxuICB9XHJcblxyXG4gIC8vIE1ha2UgQmxvY2tcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmZpY3VsdHk7IGkrKykge1xyXG4gICAgaWYgKCh0aW1lciArIE1hdGgucm91bmQoQkxPQ0tfVElNRSAvIGRpZmZpY3VsdHkpICogaSkgJSBCTE9DS19USU1FID09PSAwKSB7XHJcbiAgICAgIGNvbnN0IGJsb2NrID0gbmV3IEJsb2NrKGkpO1xyXG4gICAgICBibG9ja0FycmF5LnB1c2goYmxvY2spO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQmxvY2sgQWxnb3JpdGhtXHJcbiAgYmxvY2tBcnJheS5mb3JFYWNoKChibG9jaywgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICBjb25zdCBDb2xsaXNpb25DaGVjayA9IChmbjogRm4pID0+XHJcbiAgICAgIGFycmF5XHJcbiAgICAgICAgLmZpbHRlcigodikgPT4gdiAhPT0gYmxvY2spXHJcbiAgICAgICAgLmZpbmRJbmRleCgoc3RvcGVkQmxvY2spID0+IGZuKHN0b3BlZEJsb2NrLCBibG9jaykpO1xyXG4gICAgY29uc3QgY29sbGlzaW9uRWFjaE90aGVyID0gQ29sbGlzaW9uQ2hlY2soQ29sbGlzaW9uKTtcclxuICAgIGNvbnN0IExlZnRDb2xsaXNpb25FYWNoT3RoZXIgPSBDb2xsaXNpb25DaGVjayhMZWZ0Q29sbGlzaW9uKTtcclxuICAgIGNvbnN0IFJpZ2h0Q29sbGlzaW9uRWFjaE90aGVyID0gQ29sbGlzaW9uQ2hlY2soUmlnaHRDb2xsaXNpb24pO1xyXG4gICAgY29uc3Qgc3RhY2tpbmcgPSBjb2xsaXNpb25FYWNoT3RoZXIgIT09IC0xIHx8IENvbGxpc2lvbihwbGF5ZXIsIGJsb2NrKTtcclxuICAgIGNvbnN0IHB1c2hpbmdMZWZ0ID1cclxuICAgICAgTGVmdENvbGxpc2lvbkVhY2hPdGhlciAhPT0gLTEgfHwgTGVmdENvbGxpc2lvbihwbGF5ZXIsIGJsb2NrKTtcclxuICAgIGNvbnN0IHB1c2hpbmdSaWdodCA9XHJcbiAgICAgIFJpZ2h0Q29sbGlzaW9uRWFjaE90aGVyICE9PSAtMSB8fCBSaWdodENvbGxpc2lvbihwbGF5ZXIsIGJsb2NrKTtcclxuXHJcbiAgICBpZiAoYmxvY2sueSA8IGNhbnZhcy5oZWlnaHQpIHtcclxuICAgICAgIXN0YWNraW5nICYmIChibG9jay55ICs9IDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgcG9pbnRTY29yZSsrO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGFja2luZykge1xyXG4gICAgICBHb0xlZnQoYmxvY2spO1xyXG4gICAgICBHb1JpZ2h0KGJsb2NrKTtcclxuICAgIH0gZWxzZSBpZiAocHVzaGluZ0xlZnQpIHtcclxuICAgICAgR29MZWZ0KGJsb2NrKTtcclxuICAgIH0gZWxzZSBpZiAocHVzaGluZ1JpZ2h0KSB7XHJcbiAgICAgIEdvUmlnaHQoYmxvY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChibG9jay55ID09PSAwKSB7XHJcbiAgICAgIHN0b3BBbmltYXRpb24oKTtcclxuICAgICAgY3VyU3RhdHVzID0gJ2VuZCc7XHJcbiAgICAgIEVuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGJsb2NrLmRyYXcoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gQm9udXMgQWxnb3JpdGhtXHJcbiAgaWYgKHRpbWVyICUgOTAwID09PSAwKSB7XHJcbiAgICBjb25zdCBib251cyA9IG5ldyBCb251cygpO1xyXG4gICAgYm9udXNBcnJheS5wdXNoKGJvbnVzKTtcclxuICB9XHJcbiAgYm9udXNBcnJheS5mb3JFYWNoKChib251cywgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICBjb25zdCBjb2xsaWRlID1cclxuICAgICAgQ29sbGlzaW9uKHBsYXllciwgYm9udXMpIHx8XHJcbiAgICAgIExlZnRDb2xsaXNpb24ocGxheWVyLCBib251cykgfHxcclxuICAgICAgUmlnaHRDb2xsaXNpb24ocGxheWVyLCBib251cyk7XHJcblxyXG4gICAgbW9kZSA9PT0gJ3BvaW50JyAmJiBjb2xsaWRlICYmIChwb2ludFNjb3JlICs9IDEwKTtcclxuICAgIG1vZGUgPT09ICd0aW1lJyAmJiBjb2xsaWRlICYmICh0aW1lU2NvcmUgKz0gMTApO1xyXG5cclxuICAgIGJvbnVzLnkgPCBjYW52YXMuaGVpZ2h0ICYmICFjb2xsaWRlXHJcbiAgICAgID8gKGJvbnVzLnkgKz0gNSlcclxuICAgICAgOiBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuICAgIGJvbnVzLmRyYXcoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gQ29udHJvbCBBbGdvcml0aG1cclxuICBHb0xlZnQocGxheWVyKTtcclxuICBHb1JpZ2h0KHBsYXllcik7XHJcbiAgZ29MZWZ0ICYmIGxlZnRUaW1lcisrO1xyXG4gIGdvUmlnaHQgJiYgcmlnaHRUaW1lcisrO1xyXG4gIGlmIChsZWZ0VGltZXIgPiBUSU1FUl9USU1FKSB7XHJcbiAgICBnb0xlZnQgPSBmYWxzZTtcclxuICAgIGxlZnRUaW1lciA9IDA7XHJcbiAgfVxyXG4gIGlmIChyaWdodFRpbWVyID4gVElNRVJfVElNRSkge1xyXG4gICAgZ29SaWdodCA9IGZhbHNlO1xyXG4gICAgcmlnaHRUaW1lciA9IDA7XHJcbiAgfVxyXG5cclxuICBwbGF5ZXIuZHJhdygpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRnJhbWU7XHJcbiIsImZ1bmN0aW9uIEVuZCgpIHtcclxuICBjdHguY2xlYXJSZWN0KDAsIDIwMCwgY2FudmFzLndpZHRoLCA0MDApO1xyXG4gIGN0eC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xyXG4gIGN0eC5mb250ID0gJ2JvbGQgNDhweCBzYW4tc2VyaWYnO1xyXG4gIG1vZGUgPT09ICdwb2ludCcgJiYgY3R4LmZpbGxUZXh0KFN0cmluZyhwb2ludFNjb3JlKSwgNTAsIDMwMCk7XHJcbiAgbW9kZSA9PT0gJ3RpbWUnICYmIGN0eC5maWxsVGV4dChTdHJpbmcodGltZVNjb3JlKSwgNTAsIDMwMCk7XHJcbiAgY3R4LmZpbGxUZXh0KCdHYW1lIE92ZXInLCA1MCwgNDAwKTtcclxuICBjdHguZm9udCA9ICdib2xkIDMwcHggc2FuLXNlcmlmJztcclxuICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgaWYgKGNhbnZhcy53aWR0aCA9PT0gNjAwKSB7XHJcbiAgICAvLyBvbiBQQ1xyXG4gICAgY3R4LmZpbGxUZXh0KCdFbnRlciA6IFJlc3RhcnQgIC8gIEVTQyA6IEdvIHRvIE1haW4nLCA1MCwgNTAwKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gb24gTW9iaWxlXHJcbiAgICBjdHguZmlsbFRleHQoJ0dvIHRvIE1haW4hJywgMTUwLCAzMDApO1xyXG4gICAgY3R4LmZpbGxUZXh0KCdQcmVzcyB0byBSZXN0YXJ0IScsIDUwLCA1MDApO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBFbmQ7XHJcbiIsImZ1bmN0aW9uIE1haW4oKSB7XHJcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gIGN0eC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xyXG4gIGN0eC5mb250ID0gJ2JvbGQgNDhweCBzYW4tc2VyaWYnO1xyXG4gIGN0eC5maWxsVGV4dCgnQmxvY2sgYSBCbG9jaycsIDUwLCA0MDApO1xyXG4gIGN0eC5mb250ID0gJ2JvbGQgMzBweCBzYW4tc2VyaWYnO1xyXG4gIGN0eC5maWxsVGV4dChgTW9kZTogJHttb2RlLnRvVXBwZXJDYXNlKCl9YCwgNTAsIDI1MCk7XHJcbiAgbW9kZSA9PT0gJ3BvaW50JyAmJlxyXG4gICAgY3R4LmZpbGxUZXh0KGBkaWZmaWN1bHR5OiAke1N0cmluZyhkaWZmaWN1bHR5KX1gLCA1MCwgMzAwKTtcclxuICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgaWYgKGNhbnZhcy53aWR0aCA9PT0gNjAwKSB7XHJcbiAgICAvLyBvbiBQQ1xyXG4gICAgY3R4LmZpbGxUZXh0KFwiUHJlc3MgJ0VudGVyJyB0byBzdGFydCFcIiwgNTAsIDUwMCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIG9uIE1vYmlsZVxyXG4gICAgY3R4LmZpbGxUZXh0KCdMb25nIHByZXNzIHRvIHN0YXJ0IScsIDUwLCA1MDApO1xyXG4gIH1cclxuICBjdHguZmlsbFN0eWxlID0gJ2dyZWVuJztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFpbjtcclxuIiwiaW1wb3J0IHsgc3RhcnRBbmltYXRpb24gfSBmcm9tICcuL0FuaW1hdGlvbic7XHJcbmltcG9ydCBNYWluIGZyb20gJy4uL3BhZ2VzL01haW4nO1xyXG5cclxubGV0IGxvbmdUYWJUaW1lcjogTm9kZUpTLlRpbWVvdXQ7XHJcblxyXG5jb25zdCBzdGFydEV2ZW50ID0gKCkgPT4ge1xyXG4gIGlmIChjdXJTdGF0dXMgPT09ICdtYWluJykge1xyXG4gICAgc3RhcnRBbmltYXRpb24oKTtcclxuICAgIG1vZGUgPT09ICd0aW1lJyAmJiAoZGlmZmljdWx0eSA9IDEpO1xyXG4gICAgY3VyU3RhdHVzID0gJ3N0YXJ0JztcclxuICB9IGVsc2UgaWYgKGN1clN0YXR1cyA9PT0gJ2VuZCcpIHtcclxuICAgIGJsb2NrQXJyYXkuc3BsaWNlKDApO1xyXG4gICAgYm9udXNBcnJheS5zcGxpY2UoMCk7XHJcbiAgICB0aW1lciA9IDA7XHJcbiAgICBwb2ludFNjb3JlID0gMDtcclxuICAgIHRpbWVTY29yZSA9IDA7XHJcbiAgICBjYW5Vc2VJdGVtID0gdHJ1ZTtcclxuICAgIG1vZGUgPT09ICd0aW1lJyAmJiAoZGlmZmljdWx0eSA9IDEpO1xyXG4gICAgc3RhcnRBbmltYXRpb24oKTtcclxuICAgIGN1clN0YXR1cyA9ICdzdGFydCc7XHJcbiAgfVxyXG59O1xyXG5jb25zdCBsZWZ0RXZlbnQgPSAoKSA9PiB7XHJcbiAgaWYgKGN1clN0YXR1cyA9PT0gJ21haW4nICYmIG1vZGUgPT09ICdwb2ludCcgJiYgZGlmZmljdWx0eSA+IDEpIHtcclxuICAgIGRpZmZpY3VsdHktLTtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMjUwLCA1MDAsIDUwKTtcclxuICAgIGN0eC5maWxsVGV4dChgZGlmZmljdWx0eTogJHtTdHJpbmcoZGlmZmljdWx0eSl9YCwgNTAsIDMwMCk7XHJcbiAgfVxyXG59O1xyXG5jb25zdCByaWdodEV2ZW50ID0gKCkgPT4ge1xyXG4gIGlmIChjdXJTdGF0dXMgPT09ICdtYWluJyAmJiBtb2RlID09PSAncG9pbnQnICYmIGRpZmZpY3VsdHkgPCA2KSB7XHJcbiAgICBkaWZmaWN1bHR5Kys7XHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDI1MCwgNTAwLCA1MCk7XHJcbiAgICBjdHguZmlsbFRleHQoYGRpZmZpY3VsdHk6ICR7U3RyaW5nKGRpZmZpY3VsdHkpfWAsIDUwLCAzMDApO1xyXG4gIH1cclxufTtcclxuY29uc3Qgc3BhY2VFdmVudCA9ICgpID0+IHtcclxuICBpZiAoY3VyU3RhdHVzID09PSAnbWFpbicpIHtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMjAwLCA1MDAsIDEzMCk7XHJcbiAgICBpZiAobW9kZSA9PT0gJ3BvaW50Jykge1xyXG4gICAgICBtb2RlID0gJ3RpbWUnO1xyXG4gICAgfSBlbHNlIGlmIChtb2RlID09PSAndGltZScpIHtcclxuICAgICAgbW9kZSA9ICdwb2ludCc7XHJcbiAgICAgIGN0eC5maWxsVGV4dChgZGlmZmljdWx0eTogJHtTdHJpbmcoZGlmZmljdWx0eSl9YCwgNTAsIDMwMCk7XHJcbiAgICB9XHJcbiAgICBjdHguZmlsbFRleHQoYE1vZGU6ICR7bW9kZS50b1VwcGVyQ2FzZSgpfWAsIDUwLCAyNTApO1xyXG4gIH0gZWxzZSBpZiAoY3VyU3RhdHVzID09PSAnc3RhcnQnICYmIGNhblVzZUl0ZW0pIHtcclxuICAgIGJsb2NrQXJyYXkuc3BsaWNlKDApO1xyXG4gICAgY2FuVXNlSXRlbSA9IGZhbHNlO1xyXG4gIH1cclxufTtcclxuY29uc3QgZXhpdEV2ZW50ID0gKCkgPT4ge1xyXG4gIGlmIChjdXJTdGF0dXMgPT09ICdlbmQnKSB7XHJcbiAgICBjdXJTdGF0dXMgPSAnbWFpbic7XHJcbiAgICBNYWluKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gIG9uIFBDXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoa2V5KSA9PiB7XHJcbiAgc3dpdGNoIChrZXkuY29kZSkge1xyXG4gICAgY2FzZSAnRW50ZXInOlxyXG4gICAgICBzdGFydEV2ZW50KCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnQXJyb3dMZWZ0JzpcclxuICAgIGNhc2UgJ0tleUEnOlxyXG4gICAgICBsZWZ0RXZlbnQoKTtcclxuICAgICAgY3VyU3RhdHVzID09PSAnc3RhcnQnICYmIChnb0xlZnQgPSB0cnVlKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgIGNhc2UgJ0tleUQnOlxyXG4gICAgICByaWdodEV2ZW50KCk7XHJcbiAgICAgIGN1clN0YXR1cyA9PT0gJ3N0YXJ0JyAmJiAoZ29SaWdodCA9IHRydWUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ1NwYWNlJzpcclxuICAgICAgc3BhY2VFdmVudCgpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ0VzY2FwZSc6XHJcbiAgICAgIGV4aXRFdmVudCgpO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gb24gTW9iaWxlXHJcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKGV2ZW50KSA9PiB7XHJcbiAgY29uc3QgeFRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcclxuICBjb25zdCB5VG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZO1xyXG5cclxuICBpZiAoeVRvdWNoIDwgY2FudmFzLmhlaWdodCAvIDIpIHtcclxuICAgIGxvbmdUYWJUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBleGl0RXZlbnQoKTtcclxuICAgIH0sIDUwMCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvbmdUYWJUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzdGFydEV2ZW50KCk7XHJcbiAgICB9LCA1MDApO1xyXG5cclxuICAgIGlmICh4VG91Y2ggPCBjYW52YXMud2lkdGggLyAyKSB7XHJcbiAgICAgIGN1clN0YXR1cyA9PT0gJ3N0YXJ0JyAmJiAoZ29MZWZ0ID0gdHJ1ZSk7XHJcbiAgICB9IGVsc2UgaWYgKHhUb3VjaCA+IGNhbnZhcy53aWR0aCAvIDIpIHtcclxuICAgICAgY3VyU3RhdHVzID09PSAnc3RhcnQnICYmIChnb1JpZ2h0ID0gdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PiB7XHJcbiAgY29uc3QgeFRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcclxuICBjb25zdCB5VG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZO1xyXG5cclxuICBjbGVhclRpbWVvdXQobG9uZ1RhYlRpbWVyKTtcclxuICBpZiAoeVRvdWNoIDwgY2FudmFzLmhlaWdodCAvIDIpIHtcclxuICAgIHNwYWNlRXZlbnQoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKHhUb3VjaCA8IGNhbnZhcy53aWR0aCAvIDIpIHtcclxuICAgICAgbGVmdEV2ZW50KCk7XHJcbiAgICB9IGVsc2UgaWYgKHhUb3VjaCA+IGNhbnZhcy53aWR0aCAvIDIpIHtcclxuICAgICAgcmlnaHRFdmVudCgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoKSA9PiB7XHJcbiAgY2xlYXJUaW1lb3V0KGxvbmdUYWJUaW1lcik7XHJcbn0pO1xyXG4iLCJmdW5jdGlvbiBJbnRybygpIHtcclxuICBpZiAoY2FudmFzLndpZHRoID09PSA2MDApIHtcclxuICAgIC8vIG9uIFBDXHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ2dyZWVuJztcclxuICAgIGN0eC5mb250ID0gJ2JvbGQgNDhweCBzYW4tc2VyaWYnO1xyXG4gICAgY3R4LmZpbGxUZXh0KCdJbnRyb2R1Y3Rpb24nLCA1MCwgMTAwKTtcclxuICAgIGN0eC5mb250ID0gJ2JvbGQgMzBweCBzYW4tc2VyaWYnO1xyXG4gICAgY3R4LmZpbGxUZXh0KGBEb24ndCBsZXQgdGhlIGJsb2NrcyBwaWxlIHVwIWAsIDUwLCAyMDApO1xyXG4gICAgY3R4LmZpbGxUZXh0KCfihpAgLyBhIDogTW92ZSB0byB0aGUgTGVmdCcsIDUwLCAzMDApO1xyXG4gICAgY3R4LmZpbGxUZXh0KCdEZWNyZWFzZSB0aGUgRGlmZmljdWx0eScsIDE2MCwgMzUwKTtcclxuICAgIGN0eC5maWxsVGV4dCgn4oaSIC8gZCA6IE1vdmUgdG8gdGhlIFJpZ2h0JywgNTAsIDQzMCk7XHJcbiAgICBjdHguZmlsbFRleHQoJ0luY3JlYXNlIHRoZSBEaWZmaWN1bHR5JywgMTYwLCA0ODApO1xyXG4gICAgY3R4LmZpbGxUZXh0KCdTcGFjZSA6IFVzZSBTa2lsbCAoMXRpbWUpJywgNTAsIDU2MCk7XHJcbiAgICBjdHguZmlsbFRleHQoJ0NoYW5nZSBNb2RlJywgMTYwLCA2MTApO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xyXG4gICAgY3R4LmZpbGxUZXh0KCdQcmVzcyBhbnkga2V5IHRvIGNvbnRpbnVlIScsIDUwLCA3MjApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBvbiBNb2JpbGVcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xyXG4gICAgY3R4LmZvbnQgPSAnYm9sZCA0OHB4IHNhbi1zZXJpZic7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHgubW92ZVRvKDAsIGNhbnZhcy5oZWlnaHQgLyAyKTtcclxuICAgIGN0eC5saW5lVG8oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0IC8gMik7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHgubW92ZVRvKGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyKTtcclxuICAgIGN0eC5saW5lVG8oY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCk7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHguZm9udCA9ICdib2xkIDMwcHggc2FuLXNlcmlmJztcclxuICAgIGN0eC5maWxsVGV4dChgVXNlIFNraWxsICgxdGltZSlgLCBjYW52YXMud2lkdGggLyA1LCAyMDApO1xyXG4gICAgY3R4LmZpbGxUZXh0KGBDaGFuZ2UgTW9kZWAsIGNhbnZhcy53aWR0aCAvIDUsIDI1MCk7XHJcbiAgICBjdHguZm9udCA9ICdib2xkIDUwcHggc2FuLXNlcmlmJztcclxuICAgIGN0eC5maWxsVGV4dChg4oaQYCwgY2FudmFzLndpZHRoIC8gNSwgNjIwKTtcclxuICAgIGN0eC5maWxsVGV4dChg4oaSYCwgKGNhbnZhcy53aWR0aCAvIDMpICogMiwgNjIwKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEludHJvO1xyXG4iLCJpbXBvcnQgJy4vZ2xvYmFsJztcclxuaW1wb3J0ICcuL2FsZ29yaXRobXMvQ29udHJvbCc7XHJcbmltcG9ydCBNYWluIGZyb20gJy4vcGFnZXMvTWFpbic7XHJcbmltcG9ydCBJbnRybyBmcm9tICcuL3BhZ2VzL0ludHJvJztcclxuXHJcbkludHJvKCk7XHJcblxyXG5jb25zdCBnb1RvTWFpbiA9ICgpID0+IHtcclxuICBjdXJTdGF0dXMgPSAnbWFpbic7XHJcbiAgTWFpbigpO1xyXG59O1xyXG5cclxuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGdvVG9NYWluLCB7IG9uY2U6IHRydWUgfSk7XHJcbmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZ29Ub01haW4sIHsgb25jZTogdHJ1ZSB9KTtcclxuIl0sIm5hbWVzIjpbImdsb2JhbCIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsIndpZHRoIiwiaW5uZXJIZWlnaHQiLCJoZWlnaHQiLCJzdHlsZSIsImJveFNoYWRvdyIsInBvc2l0aW9uIiwibGVmdCIsInRvcCIsIm1vZGUiLCJjdXJTdGF0dXMiLCJkaWZmaWN1bHR5IiwiY2FuVXNlSXRlbSIsImJsb2NrQXJyYXkiLCJib251c0FycmF5IiwidGltZXIiLCJsZWZ0VGltZXIiLCJyaWdodFRpbWVyIiwicG9pbnRTY29yZSIsInRpbWVTY29yZSIsImdvTGVmdCIsImdvUmlnaHQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIngiLCJ5IiwiZHJhdyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwibG9jYXRpb24iLCJNYXRoIiwicmFuZG9tIiwiQmxvY2siLCJCb251cyIsImFuaW1hdGlvbiIsInN0YXJ0QW5pbWF0aW9uIiwic3BsaWNlIiwiY2xlYXJSZWN0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiRnJhbWUiLCJDb2xsaXNpb24iLCJwcmUiLCJjdXIiLCJ4Q29sbGlzaW9uIiwiYWJzIiwieUNvbGxpc2lvbiIsIkxlZnRDb2xsaXNpb24iLCJSaWdodENvbGxpc2lvbiIsIkdvTGVmdCIsInRoaW5nIiwicGxheWVyIiwiR29SaWdodCIsImZpbGxUZXh0IiwiU3RyaW5nIiwiaSIsInJvdW5kIiwiYmxvY2siLCJwdXNoIiwiZm9yRWFjaCIsImluZGV4IiwiYXJyYXkiLCJDb2xsaXNpb25DaGVjayIsImZuIiwiZmlsdGVyIiwidiIsImZpbmRJbmRleCIsInN0b3BlZEJsb2NrIiwiY29sbGlzaW9uRWFjaE90aGVyIiwiTGVmdENvbGxpc2lvbkVhY2hPdGhlciIsIlJpZ2h0Q29sbGlzaW9uRWFjaE90aGVyIiwic3RhY2tpbmciLCJwdXNoaW5nTGVmdCIsInB1c2hpbmdSaWdodCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZm9udCIsImJvbnVzIiwiY29sbGlkZSIsInRvVXBwZXJDYXNlIiwibG9uZ1RhYlRpbWVyIiwic3RhcnRFdmVudCIsImxlZnRFdmVudCIsInJpZ2h0RXZlbnQiLCJzcGFjZUV2ZW50IiwiZXhpdEV2ZW50IiwiTWFpbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjb2RlIiwiZXZlbnQiLCJ4VG91Y2giLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwic2V0VGltZW91dCIsInlUb3VjaCIsImNsZWFyVGltZW91dCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiZ29Ub01haW4iLCJvbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==